# **Мини-инструкция по установке snx-rs (v4.9.2astra)**

На странице [релиза](https://github.com/dmtnndxr/snx-rs/releases/tag/v4.9.2astra) доступны два варианта:

* **tar.xz** — архив с бинарями и скриптом `install.sh` (устанавливается вручную).
* **.run** — самораспаковывающийся инсталлятор (тот же набор файлов), автоматически запускает `install.sh` и требует root.

Мы установим вариант **.run**.

## **Что устанавливается**

Инсталлятор включает три компонента:

* **snx-rs** — демонизируемый VPN‑сервис/CLI: поднимает и поддерживает туннель, работает как standalone сервис, общается через IPC-сокет. Оборачивает логику из `snxcore` (auth, сеть, сигналы).
* **snxctl** — управляющий CLI для уже запущенного сервиса: говорит с `snx-rs` по IPC, команды старт/стоп, статус, конфиг, диагностика. Полезно для скриптов и отладки.
* **snx-rs-gui** — GTK4 треевый UI: минимальный графический клиент поверх того же IPC, показывает состояние, кнопки подключения/отключения, уведомления. Интерфейс использует локализацию из `crates/i18n`.

### **Что делает `install.sh`**

Скрипт автоматически выполняет установку:

* Останавливает запущенные экземпляры: `killall snx-rs-gui`, `systemctl stop snx-rs`.
* Копирует собранные бинарники (`snx-rs`, `snx-rs-gui`, `snxctl`) в `/usr/bin/`.
* Устанавливает `snx-rs.service` в `/etc/systemd/system/` и desktop-файл в `/usr/share/applications/`.
* Перечитывает unit'ы и включает сервис: `systemctl daemon-reload`, `systemctl enable --now snx-rs`.

---

## **1. Скачиваем инсталлятор**

```bash
wget https://github.com/dmtnndxr/snx-rs/releases/download/v4.9.2astra/snx-rs-v4.9.2astra-linux-x86_64.run
```

## **2. Делаем файл исполняемым**

```bash
chmod +x snx-rs-v4.9.2astra-linux-x86_64.run
```

## **3. Запускаем установку (требует root)**

```bash
sudo ./snx-rs-v4.9.2astra-linux-x86_64.run
```

Инсталлятор сам распакует содержимое и выполнит `install.sh`.
Программа будет доступна в меню приложений как **SNX-RS VPN client**.

## 4. Устанавливаем зависимости

Для запуска GUI-клиента потребуется дополнительная библиотека `libgtk-4-1`.

```bash
sudo apt install libgtk-4-1
```

## **5. (Опционально) вынести ярлык на рабочий стол**

```bash
cp /usr/share/applications/snx-rs-gui.desktop ~/Desktop/
```
